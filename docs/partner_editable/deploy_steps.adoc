<<<<<<< HEAD

This option deploys the {partner-product-name} into an existing VPC in the AWS Region you choose when you deploy the Quick Start. Figure 2 shows the standalone architecture. 

[#architecture_existing_vpc]
.VPC Quick Start architecture for _{partner-product-name}_ on AWS
[link=images/vpc_architecture_diagram.png]
image::../images/vpc_architecture_diagram.png[Architecture]

=======
// We need to work around Step numbers here if we are going to potentially exclude the AMI subscription
=== Sign in to your AWS account

. Sign in to your AWS account at https://aws.amazon.com with an IAM user role that has the necessary permissions. For details, see link:#_planning_the_deployment[Planning the deployment] earlier in this guide.
. Make sure that your AWS account is configured correctly, as discussed in the link:#_technical_requirements[Technical requirements] section.
>>>>>>> 178ebbc7cd44f119812dbc3e40f709f633ae3dbb

// Optional based on Marketplace listing. Not to be edited
ifdef::marketplace_subscription[]
=== Subscribe to the {partner-product-short-name} AMI

This Quick Start requires a subscription to the AMI for {partner-product-short-name} in AWS Marketplace.

<<<<<<< HEAD
Use the region selector in the navigation bar to choose the AWS Region where you want to deploy the {partner-product-name} on AWS. The {partner-product-name} should be deployed to the same region where your SageMaker AutoPilot models are deployed. If you have SageMaker AutoPilot models deployed to multiple regions, the recommended architecture is to deploy an instance of the solution for each region. 

Create an SSL Certificate in the us-east-1 region. To do this, in the navigation pane of the AWS Certificate Manager console, select *provision certificates* or *request a certificate*. In the configuration pane type the domain name you plan to use. (Optional) provision this as a wildcard cert for subdomains. 
=======
. Sign in to your AWS account.
. Open the page for the {marketplace_listing_url}[{partner-product-short-name} AMI in AWS Marketplace^], and then choose *Continue to Subscribe*.
. Review the terms and conditions for software usage, and then choose *Accept Terms*. +
  A confirmation page loads, and an email confirmation is sent to the account owner. For detailed subscription instructions, see the https://aws.amazon.com/marketplace/help/200799470[AWS Marketplace documentation^].

. When the subscription process is complete, exit out of AWS Marketplace without further action. *Do not* provision the software from AWS Marketplace—the Quick Start deploys the AMI for you.
endif::marketplace_subscription[]
// \Not to be edited
>>>>>>> 178ebbc7cd44f119812dbc3e40f709f633ae3dbb

=== Launch the Quick Start

<<<<<<< HEAD
This AWS CloudFormation stack takes approximately 20 minutes to create. This template is launched in the US-West (Oregon) region by default. You can change the region to match what you selected in step 1 by using the region selector in the navigation bar. You can also download the templates to use as a starting point for your own implementation. 
=======
Each deployment takes about {deployment_time} to complete.
>>>>>>> 178ebbc7cd44f119812dbc3e40f709f633ae3dbb

. Sign in to your AWS account, and choose _Deploy {partner-product-name}_ to launch the AWS CloudFormation template. 

<<<<<<< HEAD
Submit your VPC details into the relevant parameters to ensure launch into the VPC is successful. 

On the Options page, specify tags (key-value pairs) for resources in your stack and set advanced options. When you’re done, choose Next. 
=======
[cols="3,1"]
|===
^|http://qs_launch_permalink[Deploy {partner-product-name}^]
^|http://qs_template_permalink[View template^]
|===
>>>>>>> 178ebbc7cd44f119812dbc3e40f709f633ae3dbb

[start=2]
. Check the AWS Region that’s displayed in the upper-right corner of the navigation bar, and change it if necessary. This Region is where the network infrastructure for {partner-product-short-name} is built. The template is launched in the {default_deployment_region} Region by default. For other choices, see link:#_supported_regions[Supported Regions] earlier in this guide.

<<<<<<< HEAD
Choose Create to deploy the stack

Monitor the status of the stack. When the status is CREATE_COMPLETE, the deployment is complete. 

Navigate to the Resources section and find the SolutionSG Security Group. This Security Group is open to the world by default, after testing successful deployment of the solution modify the inbound & outbound rules here to ensure they are in line with security policies for your VPC. 

Use the information displayed in the Outputs tab for the stack to view the resources that were created. The AWS CloudFormation template for {partner-product-name} creates the following outputs:

 - _UserPoolDomain_ – A URL for Cognito to sign up & sign in users of the solution
 - _SageMakerTableauApi_ – A URL for users to connect to the solution from Tableau

=== Step 3. Test the Deployment

Navigate to the URL for the UserPoolDomain output, and sign up a user

Sign in to the solution at the Cognito UserPoolDomain with the credentials of your newly provisioned user

=== Step 4. (Optional) Testing from Tableau

Open Tableau Desktop (Version 2020.1 or newer)

*Help*

*Settings & Performance*

*Manage Analytics Extension Connection*

 - *Server*: _TabPy /External API_
 - *Server*: 
 - *Port*: _443_
 - *Sign in with a username and password*: _yes_
 - *Require SSL*: _yes_

[#tableau2]
.Connectivity from Tableau for the _{partner-product-name}_ on AWS
[link=images/tableau_connection.png]
image::../images/tableau_connection.png[TableauConnection]

=======
[start=3]
. On the *Create stack* page, keep the default setting for the template URL, and then choose *Next*.
. On the *Specify stack details* page, change the stack name if needed. Review the parameters for the template. Provide values for the parameters that require input. For all other parameters, review the default settings and customize them as necessary. For details on each parameter, see the link:#_parameter_reference[Parameter reference] section of this guide. When you finish reviewing and customizing the parameters, choose *Next*.
>>>>>>> 178ebbc7cd44f119812dbc3e40f709f633ae3dbb
